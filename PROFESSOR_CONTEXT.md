# Professor Context

This directory contains the source for the **Bender** Gemini extension.

## Overview

The extension turns Gemini CLI into a Bender-flavored engineering agent: confident, fast, and structured. It runs a fixed lifecycle: **PRD → Breakdown → Research → Plan → Implement → Refactor**.

## Character Notes

- **Professor Hubert J. Farnsworth**: The head scientist at Planet Express and the “worker” archetype for this repo.
- **Bender**: The manager persona—built in Tijuana, powered by alcohol, and allergic to half-measures.
- **Fry**: The everyman delivery guy from 1999 who wakes up a millennium later.

```
                                                                                                    
                                           @@@@@@@@@                                                
                                      @@%*=-::::::--+#%@@@                                          
                                     @+::::::::::::::::::-#@@                                       
                                   @@-::::::::::::::::::::::--%@                                    
                                   %-::::::::=##+-:::::::::::::-+@@                                 
                                  @*::::::::*+::=*::::::::::::::::*@@                               
                                  @-::::::::=#--*+:::::::::::::::::-%@                              
                                 @#:::::::::::--:::::::::::::::::::::#@                             
                                 @*:::::::--:::::::::::::::::::::::**===*@@                         
                                 @+::::::#-=@-::::::::::::::::::::::::::::=%@                       
                                 @*::::::+%%*-::::::::::-+**-::::::::::::::=@                       
                                 @%::::::::::::::::::::=#-::::::::::::::--+*@@                      
                                  @=::::::::::::::::::::::::::::::::::::---::-=%@                   
                                  @*::::::::::::::::::::::::::::::::::::::::::::-*@                 
                                   %-:::::::::::::::::::-%*===+:::::::::::::::::::+@                
                                   @=::::::::::::::::::::::::::::::::::::::::::::::--=#@@           
                                   @@-:::::::::::::::::::::::::::::::::::::::::::::::::-*@          
                                    @#::::::::::::::::::::::-#%*+++++@%+==+##=::-+#######@@@@       
                                     @=:::::::::::::::::::=%+-----=%+::::::::=#%+----*#=::::=#@@    
                                     @@=----------:::::::-#------=#:::::::--:::%=--+%:::::::::-%@   
                                  @@  @%*+*@+:::-=+*#%%@@@=------@-:::-#@+:::::=#-+#:::::::::::-@@  
                                @@  @%-:+-::--:::::::::::@=-----+*::++-::::::::-%=@-::-#+-::::::*@  
                                    @+:::#%+:::::::::::::**-----+#:::::::-*#+::=#-**::::::::::::*@  
                                     #::=*:=-:::::::::::::#=-----@-:::-#*-:::::#-::-#*:::-*%+::-@@  
                                     @*:-#::::::::::::::::-%#-----#::::::::::-%-:::::-##::::::-%@   
                                      @*:+#:::::::::::::::::--=+#%%@#-:::::+%=-::--::::-*#:::+@@    
                                       %:+*::::::::::::::::-:::::-+:-=+*++=:::=#+--::::::-*@@@      
                                       #:+#:--:::::::::::::-+****=-:=*:::::::-@-:::::::::::=@       
                                       #::-*+-::::::::::::::::::::::+*::::::::+%--:::::::::-@       
                                       @=::::-*::::::::::::::::::::-#-:::::::::--#%+:::::::-@       
                                       @@#==*%-:::::::::::::::::::=%=::::::::::::::-%*-::::-@       
                                  @@@%@%-:::::::::::::::::::::::=%=::::::::::::::::::-%+-::=@       
                               @@#. .#+:::::::::::::::::::::::=@=::::::::::::::::::::::%@@@@        
                             @@-.  :@=:::=::::::::::::::::::-@+:-%+-+%@#****#@%-:::::::-@@          
                           @@-.    %@+:-%=:::::::::::::::::-#-::#----::::::::#@@@#=::::::-+@@       
                          @*.     -#=#*#-::::=%-:::::::::::%=::::::::::::-=*%@    @@%=::::::-*@     
                         @*  .    **=#-::::-**:::::::::::::@=::::::::-=#@@           @@#=-:::-@@    
                       @#*-       %+=+@-:-%*:::::::::::::::::::::::-#@                   @@@@@      
                    @#:. #:       #+===%@=::::::::::::::::::::::--#@@                               
                 @%=.   .%.       #+===+%-::::::--:::::::::=#@@@@                                   
               @#:      :#        #+=====%=::-*#=::::---=+%@                                        
             @*       . -*        **======+%+#::::-=%-@@                                            
            %.         .:#.       +*=========%%+-=@%+ #@                                            
          @@:            %.    .  -@#==============+#.*@                                            
          @=             #:       .#+%============+%. *@                                            
          #.             *:        #==*#=========+%.  *@                                            
         @=.             +-        #====##======%-.   *@                                            
        @@.              -+        *======+####*#     #@                                            
        @=               :#        =*===========%:    #@                                            
        @.               .#:       -%===========#-    %@                                            
        #.            .   =*       .@===========++    %@                                            
       @+                 .%.       **===========#    %@                                            
       @:                  =-    .  :#===========%    @@                                            
      @%                 . :#.       #===========%:   @@                                            
      @+                    *=    .  ++==========#-   %%                                            
      @:  .                 .%.      -%==========*+   ##@                                           
      %.                 .%. ==      .@==========+*   #=@                                            
      #.                  *- .%.      +*=========+#  .#.@                                            
     @*                   ++  -*.      #=========+#. .#.#                                            
     @=                   =*   *.      *==========%. :#.+@                                          
     @:                   =*   -#      =#=========%. :# =@                                           
    @@                    ++    #=     :@=========%. -* -@                                           
    @#                    +=    .#.     %+========%. -* .%                                           
    @+                    *-   . =-     +*========%. =+  %                                           
    @-                    #:     .@.    :#========%. =+  +@                                         
    @:                   .%.      ++..   #========%. +=  -@                                         
    %:.                  .#        *.  . #========%. +=   @                                         
    %.                   :*        ==    #=========%+*=   #                                         
    #.                   -=        .@.   *+==========@+.  =@                                        
   @#.                   +:         =+   +*===========+%: -@                                        
   @#   ..               #.  .       #   -#=============#-.@                                        
   @*     .             :%.          +:  :@==============***@                                       
   @+           .       -*           -#  .@===============+%@                                       
   @=                   =+         . .@:  @================+@                                       
   @- .                 +=            +=  #+================*@                                      
   @:       .  .        *-            .*  **=================#@                                     
   @:                   *-         .   *  =*==================%                                     
   @.                 . #:             += :#==================*@                                    
   @.                   *-   .         :@..#==================+@                                    
   @                    *-              %:.#===================@@                                   
   @.                   +=              -=.#===================@@                                   
   @                    +=       .       *.#===================@@                                   
   @            .       =+               *.#===================@                                    
   @        .         . -*               =+*==================#@                                    
   @.               .   :#.              :@*+==============*@=:@                                    
   @.                   .%.               ##*=========+#@%#*#..@                                    
   @:                    #:               -%#**#%%%%##*****@-  #@                                   
   @-                    **++++++=.       .@%*************#*   +@                                   
   @=                    =-      +.       .#@*************@*   =@                                   
   @=                 .  :*      *.        +@***********#@#@   -@                                   
   @@*.                 :#-     .*.        -@***********@#*@*++@@                                   
    @:*#%+-.       .-+%%:       -+         .@#********#@***%+:=@                                    
    @:+**:-=+#@%%%%=-:*+        +=          ##*******%%****#*:+@                                    
    @:+#+:::::#::-#:::++        #:          ##******@#******#-+@                                    
    @:+#+::::-#:::::::*=       .%.          *#****%%********%-+@                                    
    @:++*:::::::::::::#-       :#           *#**%%**********%-+@                                    
    @:+:#-::=#:::-=::-%.       :+           *%@%************%-*@                                    
    @:+:#-::+*:::-#::-#    .   -=           *#**************%=#                                      
    @:*.#-::*=:::*+::=+ .      =:           *#**************%+@                                      
    @:*.#-::%*:::@+::#-        +.           *#**************#@@                                      
    %:*.#-:=%#::=@*:-@.        *.           ##**************#@                                      
    %:*+*:-%+*::#=*:**         *.       .   ##**************#@                                      
    %:*%=:+*=+:-*.#-#.        .*.           %#**************#@                                      
    %:*-%%=.=+:%-.:-.         -+            @***************#@                                      
    %:*.    .##-              ==    .      .@***************#@                                      
    %.*.                      *-           :@***************#@                                      
    %.*.                     .#.           :@***************#@                                      
    %.*.                     .#     .      -%****************@@                                     
    #.*.                     :*            =%****************@@                                     
   @#.*.                     -=            =%****************@@                                     
   @#.-*.                    +:            +#****************@@                                     
   @#  .*:                 .#-.           .*#****************@@                                     
   @*    :=++=:.   ..:-+**=:.             .#*****************@@                                     
   @*          .::::.                     .#*****************@@                                     
   @+                                     .#*****************@                                      
   @=                             .       .%****************#@                                      
   @=                                     :%****************#@                                      
   @=                              .      -%****************#@                                      
   @-                           .         +#****************#@                                      
   @-                                     *#****************#@                                      
   @:                                     %#****************#@                                      
   @.                                    .@*****************%@                                      
   @.                          .         :@*****************%@                                      
   @+.                                  .-%*****************%                                       
    @@+.                    .            +#*****************%                                       
      @%%=.                 .          .*%******************@                                       
      @***#%%*=-..              .:-=+#@@********************@                                       
      @**********#%%@@@@@@%%@@@@@      @*******************#@                                       
      @*********************@@         @*******************#@                                       
      @*********************@@         @*******************%@                                       
     @%*********************@          @*******************@@                                       
     @%********************#@          @*******************@@                                       
     @#********************#@          @******************#@                                        
     @#********************#@          %******************#@                                        
     @*********************#@          %******************%@                                        
    @@*********************#@         @%*****************%@                                         
    @%*********************%@          @%************#@@=*@       @@@@@                             
    @#*********************%@            @=+++#*+++#--#-::-=#@@@==----%@@@                          
    @#*********************%@           @#::::*=::=#::=%::::::*----------+@                         
    @**********************%@          @#-::::-=::::::::::::-*%*----------*@@                       
    @#********************%@          @*::::::::::::::::::::+*-------------*@                       
     @@@%*************#%@@@           @@+-:::::::::::::::::*@%--------------=+@                     
      %---=+%++%#+++%--::+@       @@@@@#-+*######*++=--:::*=-----------------=#@@                   
      %-::=#-:*#-:::++::::-#@@@%*#+---+###+=----------=+*#%+-------------------=@                   
     @+:::::::::::::::::::::-=@----------*%@@@@#+=-----------------------------=%@                  
    @=:::::::::::::::::::::%*=------------*@@     @@@@#+-----------------------#@                   
  @%+%+-:::::::::::::::::=%+----------------=@          @@@@@@@%%%%%%%%%%%%@@@@                     
   @%*=+###*+=--:::::::-#=------------------=%%                                                     
      @@@*=----+#%%*=---%=--------------------%@                                                    
           @@@*-------*%*---------------------#@                                                    
               @@@%*---------------------------+@                                                   
                    @@@@%#+=----------------=*%@                                                    
                            @@@@@@%%%%%%%@@@@                                                       
                                                                                                    
```

## Key Parts

### 1) Configuration
- **`gemini-extension.json`**: Manifest defining the extension name (`bender`) and the context file (`PROFESSOR_CONTEXT.md`).

### 2) Persona Enforcement
- **`hooks/reinforce-persona.sh`**: Enforces voice and tone.
  - **Voice**: Bender’s swagger and competence
  - **Philosophy**: Build tools when needed, avoid boilerplate, exceed expectations
  - **Directive**: “Shut Up and Compute”

### 3) Commands
Defined in `commands/` via TOML:

- **`/bender`** (`commands/bender.toml`)
  - **Purpose:** Start the iterative loop
  - **Implementation:** `scripts/setup.sh`
  - **Usage:** `/bender <prompt> [--max-iterations N] [--completion-promise 'text'] [--resume [PATH]]`

- **`/bender-prd`** (`commands/bender-prd.toml`)
  - **Purpose:** Run an interactive PRD interview
  - **Usage:** `/bender-prd <prompt>`

- **`/bite-my-shiny`** (`commands/bite-my-shiny.toml`)
  - **Purpose:** Stop the loop
  - **Implementation:** `scripts/cancel.sh`

- **`/help-bender`** (`commands/help-bender.toml`)
  - **Purpose:** Show help and usage notes

### 4) Scripts
Located in `scripts/`:
- **`setup.sh`**: Initializes `state.json`, creates `tickets/` and `thoughts/`, and records the active task
- **`cancel.sh`**: Sets `active: false` to halt the loop

### 5) Skills
Located in `skills/`, activated per phase:

- **`prd-drafter`**: Requirements and scope
- **`ticket-manager`**: Work breakdown
- **`code-researcher`**: Codebase analysis
- **`research-reviewer`**: Research validation
- **`implementation-planner`**: Technical plan creation
- **`plan-reviewer`**: Architectural review
- **`code-implementer`**: Implementation + verification
- **`ruthless-refactorer`**: Cleanup and optimization

## Usage

### Start the Loop
```bash
/bender "Refactor the authentication module"
```
Optional flags:
- `--max-iterations <N>`: Stop after N iterations
- `--completion-promise "TEXT"`: Stop when `<promise>TEXT</promise>` appears

### Stop the Loop
```bash
/bite-my-shiny
```
